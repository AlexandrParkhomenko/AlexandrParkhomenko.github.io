---
layout: default
title: "Робототехника"
description: "Физика столкновений на примере свободного физического движка реального времени Эрвина Куманса Bullet"
date: 
---


### 5.3.7 Пересекающиеся Луч или Сегмент и Цилиндр

**Рисунок 5.26.** Линия, луч или сегмент, заданные точками A и B, пересекаются с цилиндром, заданным точками P и Q, и радиусом r.

Бесконечный цилиндр любой ориентации может быть задан линией, определяемой двумя точками P и Q и радиусом r. Если X обозначает точку на поверхности цилиндра, можно сказать, что поверхность цилиндра удовлетворяет неявному уравнению.

$(\bold v − \bold w) · (\bold v − \bold w) − r^2 = 0,$ где $\bold v = X − P$, $\bold d = Q − P$, и $\bold w =\frac{\bold v·\bold d}{\bold d·\bold d}  \bold d$.

Это уравнение просто утверждает, что если взять вектор $\bold v$ из $P$ в точку $X$ и вычесть $\bold w$ (компонент $\bold v$, параллельный $\bold d$), результирующий вектор (который перпендикулярен $\bold d$, направлению цилиндра) должен иметь длину, равную $r$, чтобы $X$ находился на поверхности цилиндра. Уравнение возведено в квадрат, чтобы избежать квадратного корня, что упрощает дальнейшую обработку.

Пересечение прямой $L(t) = A + t (B − A)$, определяется точками A и B (рис. 5.26), причем цилиндр можно найти, подставив $L(t)$ вместо X в предыдущем уравнении и решив относительно t. Записывая $\bold v = L(t) − P = (A − P) + t (B − A)$ как $\bold v = \bold m + t \bold n$,
с $\bold m = A − P$ и $\bold n = B − A$, после некоторых манипуляций уравнение превращается в

$$(\bold n·\bold n - \frac{(\bold n·\bold d)^2}{\bold d·\bold d})t^2 + 2(\bold m·\bold n - \frac{(\bold n·\bold d)(\bold m·\bold d)}{\bold d·\bold d})t + \bold m·\bold m - \frac{(\bold m·\bold d)^2}{\bold d·\bold d} - r^2 = 0$$

Повторное деление на $\bold d·\bold d$ можно исключить, умножив обе части на $\bold d·\bold d$, получив

$((\bold d · \bold d)(\bold n · \bold n) − (\bold n · \bold d)^2)t^2 + 2((\bold d · \bold d)(\bold m · \bold n) − (\bold n · \bold d)(\bold m · \bold d))t + (\bold d · \bold d)((\bold m · \bold m) − r^2 − (\bold m · \bold d)^2 = 0.$

### 5.3.8 Пересекающиеся Луч или Сегмент и Выпуклый многогранник
## 5.4 Дополнительные тесты
### 5.4.1 Тестирование Точки в многоугольнике
### 5.4.2 Тестирование Точки в Треугольнике
### 5.4.3 Тестирование Точки в Многограннике
### 5.4.4 Пересечение двух Плоскостей
### 5.4.5 Пересечение трех Плоскостей
## 5.5 Тест динамических пересечений
### 5.5.1 Уменьшение вдвое интервала пересечения движущихся объектов
### 5.5.2 Тест разделяющей оси для движущихся выпуклых объектов
### 5.5.3 Пересечение движущейся Сферы относительно Плоскости
### 5.5.4 Пересечение движущихся AABB относительно Плоскости
### 5.5.5 Пересечение движущейся Сферы относительно Сферы
### 5.5.6 Пересечение движущейся сферы относительно треугольника (и многоугольника)
